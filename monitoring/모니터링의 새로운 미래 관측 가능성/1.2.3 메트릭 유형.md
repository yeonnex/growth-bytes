<!-- Date: 2025-02-16 -->
<!-- Update Date: 2025-02-16 -->
<!-- File ID: cad3af4d-fad9-4d03-8a8c-5f1474a45006 -->
<!-- Author: Seoyeon Jang -->

# 📌 메트릭 유형

메트릭을 수집하는 동안 모니터링하려고 하는 리소스에 가장 적절한 유형을 결정해야 한다. 일반적으로 메트릭에는 `카운터`, `게이지`, `요약`, `히스토그램`의 네 가지 유형이 있다.

## 카운터(Counter)

> 계속 증가만 하는 값을 측정할 때 사용 (초기화되기 전까지 감소하지 않음)

### 예제: HTTP 요청 수

웹서버에서 총 요청 수를 측정하고 싶다면 카운터를 사용하자.

```text
http_requests_total{method="GET", status="200"} 1250
http_requests_total{method="POST", status="500"} 12
```

- `http_requests_total` -> 요청 개수
- `{method="GET", status="200"}` -> GET 요청 중 200 응답
- `{method="POST", status="500"}` -> POST 요청 중 500 응답
- 요청 수는 계속 증가하기만 하고 줄지는 않음.

### 사용 예시

- 웹서비스에서 총 API 호출 수
- DB에서 총 쿼리 실행 횟수
- 애플리케이션 총 에러 발생 횟수

## 게이지(Gauge)

>실시간 변하는 값을 측정할 때 사용(증가할 수도, 감소할 수도 있음)

### 예제: 현재 메모리 사용량
시스템에서 사용중인 메모리(RAM)를 측정한다고 해보자.

```text
memory_usage_bytes 5324800000
```

### 사용 예시
- 현재 메모리 사용량이 `5.3GB`
- 시간이 지나면 값이 늘어나가나 줄어들 수 있음
- 데이터베이스에 연결된 커넥션 개수
- 현재 동작하는 스레드 개수
- 현재 CPU 사용량 (`cpu_usgae_percent 35.6`)
- 현재 접속중인 사용자 수 (`active_users 245`)

## 요약(Summary)

> 특정 지점에서 요약된 통계를 제공 (평균값, 퍼센타일 값을 보고 싶을 때)

#### 요약 vs 히스토그램
- 요약은 평균, 개수, 퍼센타일을 직접 계산해서 제공
- 히스토그램은 버킷(bucket)을 나눠서 더 정밀한 분석 가능

## 히스토그램(Histogram)
>데이터를 범위별로 나누어 측청(요약보다 더 정밀한 분석 가능)

### 예제: API 응답 시간 분포










