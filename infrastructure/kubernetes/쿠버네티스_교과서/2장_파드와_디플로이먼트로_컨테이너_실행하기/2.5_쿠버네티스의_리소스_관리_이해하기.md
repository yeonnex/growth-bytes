<!-- Date: 2025-01-29 -->
<!-- Update Date: 2025-01-29 -->
<!-- File ID: 314b79c6-c83a-4c81-8ea3-3082f6c2483c -->
<!-- Author: Seoyeon Jang -->

# 개요

kubectl을 사용하면 쿠버네티스 리소스를 쉽게 삭제할 수 있지만 삭제한 리소스가 되살아나는 경우가 있다. 컨트롤러 객체가 만든 리소스의 삭제는 해당 컨트롤러 객체의 책임이다. 컨트롤러 객체는 자신이 관리하는
리소스의 생애 주기를 관장하며 이에 대한 외부 간섭을 용인하지 않는다. 컨트롤러 객체가 관리하는 리소스를 내가 직접 삭제하면 이를 대체하는 리소스가 좀비처럼 생성된다.

> 실습: kubectl 의 delete 명령을 사용하여 모든 파드를 삭제한 후 정말로 모든 파드가 삭제되었는지 확인하자.

```shell
# 모든 파드 삭제
$ kubectl delete pods --all
```

디플로이먼트로 실행한 파드는 저 명령으로 삭제를 해도, 다시 살아난다. 사라진 파드는 자신을 관리해줄 컨트롤러 객체가 없었다. 그래서 삭제하면 소리소문없이 사라진다. 그러나 디플러이 컨트롤러 객체로 실행된 파드들은
삭제해도, 디플로이먼트가 자신이 관리하던 파드가 사라진 것을 감지하고 대체 파드를 생성한다.

컨트롤러 객체가 관리하는 리소스를 삭제하려면 **해당 컨트롤러 객체 자체를 삭제해줘야한다.** 디플로이먼트를 삭제해줘야만 파드도 함께 삭제된다.

얼마 지나지 않아 파드와 디플로이먼트가 사라진다. 남은 것은 쿠버네티스 API 서버뿐이다.


# 정리
쿠버네티스가 파드와 디플로이먼트를 통해 어떤 식으로 컨테이너를 관리하는지 배웠고, YAML로 간단한 애플리케이션을 정의하는 법, kubectl 명령을 사용하여 쿠버네티스 API를 다루는 법을 배웠다. 

