<!-- Date: 2025-01-30 -->
<!-- Update Date: 2025-02-11 -->
<!-- File ID: 22f2e9f7-2678-426f-ab86-c3dc7c8ae621 -->
<!-- Author: Seoyeon Jang -->

# 개요
지금까지 UNION을 사용하는 것이 나쁘다는 식으로 소개했다. 하지만 UNION을 사용하지 않으면 안되는 경우도 있다. 또한 UNION을 사용하는 것이 오히려 성능적으로 좋은 경우도 있다. 이런 예외 상황에 대해 살펴보자.

## 1. UNION을 사용할 수 밖에 없는 경우
UNION을 사용할 수 밖에 없는 경우부터 살펴보자. 머지 대상이 되는 SELECT구문들에서 사용하는 테이블이 다른 경우가 대표적이다. 쉽게 말하면 여러 개의 테이블에서 검색한 결과를 머지하는 경우이다.

물론 그렇다고 CASE식을 사용할 수 없다는 것은 아니다. FROM구에서 테이블을 결합하면 CASE식을 사용해 원하는 결과를 구할 수도 있다. 하지만 그렇게 하면 필요없는 결합이 발생해서 성능적으로 악영향이 발생한다. 따라서 실행계획을 확인해서 어떤 것이 더 좋은지 명확하게 확인해야 한다.

## 2. UNION을 사용하는 것이 성능적으로 더 좋은 경우
UNION이외의 다른 방법으로도 풀 수 있지만, UNION을 사용하는 편이 성능이 더 좋을 수 있는 경우가 있다. 바로 인덱스와 관련된 경우이다. UNION을 사용했을 때 좋은 인덱스(압축을 잘하는 인덱스)를 사용하지만, 이외의 경우에는 테이블 풀 스캔이 발생한다면, UNION을 사용한 방법이 성능적으로 더 좋을 수 있다.


# 정리


