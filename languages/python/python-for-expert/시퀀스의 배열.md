
파이썬은 모든 시퀀스를 일관성 있게 처리하는 ABC 언어의 특징을 물려받았다. 문자열, 리스트, 바이트시퀀스, 배열, XML 요소, 데이터베이스 결과에는 모두 반복, 슬라이싱, 정렬, 연결 등의 연산을 일관되게 적용할 수 있다.

파이썬에서 제공하는 다양한 시퀀스를 이해하면 코드를 새로 구현할 필요가 없으며, 시퀀스의 공용 인터페이스는 기존 혹은 향후에 구현될 시퀀스형을 적절히 지원하고 활용하도록 API를 정의하게 이끌어준다.

이번에는 익숙한 `list` 에서부터 파이썬 3에 추가된 `str` 과 `byte`에 이르기까지, 시퀀스에 일반적으로 적용되는 내용을 설명한다. 리스트, 튜플, 배열, 큐의 구체적인 내용을 다루게 될 것이다. 유니코드 문자열과 바이트시퀀스는 4장에서 설명한다. 여기서는 파이썬에서 이미 제공하는 시퀀스형을 설명하며, 사용자 정의 시퀀스형은 12장에서 설명한다.


이번 장의 가장 큰 변화는 파이썬 3.10의 새로운 패턴 매칭 기능을 소개하는 '시퀀스를 이용한 패턴 매칭'이 추가된 점이다.

### 내장 시퀀스 개요
파이썬 표준 라이브러리는 C로 구현된 다음과 같은 시퀀스형을 제공한다.

- **컨테이너 시퀀스**
	- 서로 다른 자료형의 항목을 담을 수 있는 `list`, `tuple`, `collections.deque` 형
- **균일 시퀀스**
	- 단 하나의 자료형만 담을 수 있는 `str`, `bytes`, `array.array` 형

**컨테이너 시퀀스**는 객체에 대한 참조를 담으며, 객체는 어떠한 자료형도 될 수 있지만, **균일 시퀀스**는 객체에 대한 참조 대신 자신의 메모리 공간에 각 항목의 값을 직접 담는다.

![[Pasted image 20250324163138.png]]
균일 시퀀스가 메모리를 더 적게 사용하지만, 바이트, 정수, 실수 등 기본적인 자료형만 담을 수 있다.

>**NOTE**
>
>메모리에 올라가는 모든 파이썬 객체에는 메타데이터를 담은 헤더가 있다. 가장 간단한 파이썬 객체인 `float`에도 다음과 같이 값 필드 하나와 메타데이터 필드 두 개가 있다.
>
>파이썬 64비트 버전에서 각 필드는 8바이트를 차지한다. 따라서 실수 배열이 실수 튜플보다 차지하는 메모리양이 훨씬 작다. 실수 배열은 순수한 실숫값들을 담은 단일 객체지만, 실수 튜플은 여러 튜플 객체 안에 각 실수 객체에 대한 포인터를 담는다.

- 가변 시퀀스
	- `list`, `bytearray`, `array.array`, `collections.deque` 형
- 불변 시퀀스
	- `tuple`, `str`, `bytes` 형

다음 그림을 보면, **가변 시퀀스가 불변 시퀀스를 상속하면서 여러 메서드를 추가로 구현함을 알 수 있다.**

따라서 `tuple` 과 `list` 는 다음 테스트를 통과한다.

