μ¤λ λ“λ΅ μ‘μ—…ν•  λ• μ¤λ λ“κ°€ μν–‰ μ¤‘μΈ μ‘μ—…μ„ μ•μ „ν•κ² μ¤‘λ‹¨ν•κ³  μ‹¶μ€ κ²½μ°κ°€ λΉ„κµμ  ν”ν•λ©°, μ΄λ¥Ό μ„ν• λ©”μ„λ“κ°€ **Thread** κ°μ²΄μ— μ κ³µλλ‹¤. ν•μ§€λ§ μμƒν•λ€λ΅ λ™μ‘ν•μ§€ μ•μ„ μλ„ μλ‹¤. μ—΄μ‹¬ν μ‘μ—…ν•λ” μ¤λ λ“λ¥Ό μƒμ„±ν• λ‹¤μ, μ¤‘λ‹¨μ„ μ‹λ„ν•λ” μ½”λ“λ¥Ό μ‹¤ν–‰ν•΄λ³΄μ.

```java
public class ThreadInterruptTest {  
  
  public static void main(String[] args) throws InterruptedException {  
    Thread t =  
        new Thread(  
            () -> {  
              while (true)  
                ;  
            });  
    t.start();  
    // μ¤λ λ“μ— μμ²΄ μ¤‘λ‹¨μ„ μ”μ²­ν•λ‹¤ (μ¦‰ μ‹¤ν–‰ μ¤‘μ§€)  
    t.interrupt();  
    // λ©”μΈ μ¤λ λ“μ—μ„ λ‹¤λ¥Έ μ¤λ λ“κ°€ μ™„λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ¦°λ‹¤.  
    t.join();  
    System.out.println("λλ‚¬λ‚μ”?");  
  }  
}
```

μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ©΄, `join()` μ΄ μμ›ν μ°¨λ‹¨λλ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤.

μ™κ·Έλ΄κΉ?

μ¤λ λ“μ—μ„ νΈμ¶λλ” λ©”μ„λ“λ” λ…μ‹μ μΌλ΅ μ¤‘λ‹¨ μƒνƒλ¥Ό ν™•μΈν•κ³  μ΄μ— μ‘λ‹µν•΄μ•Ό ν•λ”λ°, λ‹¨μν• `while` λ£¨ν”„λ” κ·Έλ¬ν• ν™•μΈμ„ μν–‰ν•μ§€ μ•λ”λ‹¤. λ£¨ν”„μ—μ„ λ‹¤μκ³Ό κ°™μ΄ μμƒλλ” κ²€μ‚¬λ¥Ό μν–‰ν•΄μ•Όμ§€λ§ `join()`μ΄ μμ›ν μ°¨λ‹¨λμ§€ μ•λ”λ‹¤.

```java

// λ£¨ν”„λ¥Ό λ„λ” λ€μ‹  ν„μ¬ μ¤λ λ“μ μΈν„°λ½νΈ μƒνƒλ¥Ό ν™•μΈν•λ‹¤.
Thread t = new Thread(() -> {while(!Thread.interrupted())});

t.start();

t.interrupt();

t.join();
```

μ΄λ ‡κ² ν•΄μ•Όλ§ μΈν„°λ½νΈ μ”μ²­μ΄ μμ„ λ• λ£¨ν”„κ°€ μΆ…λ£λκ³  `join()`μ€ μμ›ν μ°¨λ‹¨λμ§€ μ•λ”λ‹¤.

JDKμ—μ„ IOλ¥Ό μ°¨λ‹¨ν•κ±°λ‚ μ κΈμ„ κΈ°λ‹¤λ¦¬λ” λ“± μ¤λ λ“μ **μΈν„°λ½νΈ** μƒνƒλ¥Ό ν™•μΈν•λ” κ²ƒμ€ μΌλ°μ μ΄λ‹¤. μ΄λ¬ν• λ©”μ„λ“λ” μΌλ°μ μΌλ΅ μ²΄ν¬λ“ μμ™ΈμΈ **InterruptedException**μ„ λμ§„λ‹¤. μ΄κ²ƒμ΄ Thread.sleep() λ©”μ„λ“ μ‹κ·Έλ‹μ²μ— InterruptedException μ„ μ²λ¦¬ν•΄μ•Ό ν•λ” μ΄μ μ΄λ‹¤.

## Thread.sleep() μ΄ μΈν„°λ½νΈλ¥Ό λ°›μ„ λ•μ λ™μ‘ λ°©μ‹

```java
public class ThreadSleepTest {  
  
  public static void main(String[] args) throws InterruptedException {  
    Runnable r =  
        () -> {  
          long start = System.currentTimeMillis();  
          // μ΄ Runnable μ€ InterruptedException μ„ μ²λ¦¬ν•΄μ•Ό ν•λ‹¤.  
          // μΈν„°λ½νΈν•λ©΄ μ¤νƒμ„ μ¶λ ¥ν•κ³  μ‹¤ν–‰μ΄ κ³„μ†λλ‹¤.  
          try {  
            Thread.sleep(1000);  
          } catch (InterruptedException e) {  
            System.out.println("exception msg: " + e.getMessage());  
            e.printStackTrace();  
          }  
  
          var thisThread = Thread.currentThread();  
          System.out.println(  
              thisThread.getName() + " slept for " + (System.currentTimeMillis() - start));  
  
          if (thisThread.isInterrupted()) {  
            System.out.println("Thread " + thisThread.getName() + " interrupted.");  
          }  
        };  
  
    var t = new Thread(r);  
    t.setName("Worker");  
  
    // μ›μ»¤ μ¤λ λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.  
    t.start();  
  
    Thread.sleep(100);  
  
    // λ©”μΈ μ¤λ λ“κ°€ μ›μ»¤ μ¤λ λ“λ¥Ό μΈν„°λ½νΈν•κ³  κΉ¨μ΄λ‹¤.  
    t.interrupt();  
    t.join();  
  
    System.out.println("λΉ μ΄");  
  }  
}
```

μ‹¤ν–‰κ²°κ³Όλ” λ‹¤μκ³Ό κ°™λ‹¤.

```text
exception msg: sleep interrupted
Worker slept for 114
λΉ μ΄
```

κ·Όλ° μ™ `thisThread.isInterrupted()` ν‘ν„μ‹μ κ²°κ³Όκ°€ false κ°€ λμ—μ„κΉ? false μ΄κΈ° λ•λ¬Έμ— ν•΄λ‹Ή λΈ”λ΅μ μ¶λ ¥μ΄ μ°νμ§€ μ•μ•λ‹¤.

μ΄λ” μ½”λ“μ—μ„ μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ” λ°©μ‹μ— κ΄€ν• μ¤‘μ”ν• μ‚¬μ‹¤μ„ λ“λ¬λ‚Έλ‹¤. μ¤λ λ“μ μΈν„°λ½νΈ μƒνƒλ¥Ό ν™•μΈν•λ” μ½”λ“λ” μ‚¬μ‹¤μƒ κ·Έ μƒνƒλ¥Ό μ¬μ„¤μ •ν•λ‹¤. ν‘μ¤€ **InterruptedException**μ„ λμ§€λ” μ½”λ“λ” μμ™Έλ¥Ό λμ§ λ• μ²λ¦¬λ(handled) κ²ƒμΌλ΅ κ°„μ£Όλμ–΄ **ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ§€μ›λ²„λ¦°λ‹¤.**

## π¤¨ μ¤λ λ“κ°€ μΈν„°λ½νΈ λμμ„ μ μ§€ν•λ ¤λ©΄ μ–΄λ–»κ² ν•΄μ•Όν•λ”κ°€?

μ¤λ λ“κ°€ μΈν„°λ½νΈλμμ„ μ μ§€ν•λ ¤λ©΄ μ§μ ‘ μ²λ¦¬ν•΄μ•Ό ν•λ‹¤. μ¤λ λ“μ μ½”λ“ λ‚΄μ—μ„ λ‚μ¤‘μ— μƒνƒλ¥Ό ν•„μ”λ΅ ν•λ” κ²½μ°, λ‹¤μκ³Ό κ°™μ΄ ν•λ©΄ λλ‹¤.

```java
Runnable r = () -> {
	var start = System.currentTimeMillis();
	// μΈν„°λ½μ…μ„ κΈ°λ΅ν•κΈ° μ„ν• μƒνƒ μ €μ¥ λ³€μ μ„ μ–Έ
	var wasInterrupted = false;
	try {
		Thread.sleep(1000);
	} catch (InterruptedException e) {
		// μΈν„°λ½μ…μ„ κΈ°λ΅ν•λ‹¤
		wasInterrupted = true;
	}
	
	if (wasInterrupted) {
		System.out.println("Thread interrupted.");
	}
}
```

λ” λ³µμ΅ν• μƒν™©μ—μ„λ” νΈμ¶μμ—κ² **InterruptedException**μ„ λ‹¤μ‹ λμ§€κ±°λ‚, μ‚¬μ©μ μ •μ μμ™Έλ¥Ό λ‹¤μ‹ λμ§€κ±°λ‚, μ‹¬μ§€μ–΄ ν•΄λ‹Ή μ¤λ λ“μ— μΈν„°λ½νΈ μƒνƒλ¥Ό λ³µμ›ν•λ” λ“±μ μ‘μ—…μ„ μν–‰ν•  μλ„ μλ‹¤. μ΄λ” νΉμ • μ”κµ¬μ‚¬ν•­μ— λ”°λΌ λ‹¤λ¥΄λ‹¤.

