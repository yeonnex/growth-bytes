ìë°”ëŠ” ì´ˆì°½ê¸°(ìë°” 1.0)ë¶€í„° `volatile` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì™”ìœ¼ë©°, ì›ì‹œ ìš”ì†Œë¥¼ í¬í•¨í•œ ê°ì²´ í•„ë“œì˜ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ëë‹¤. ë‹¤ìŒ ê·œì¹™ì´ `volatile` í•„ë“œì— ì ìš©ëœë‹¤.

- ìŠ¤ë ˆë“œê°€ ë³´ëŠ” ê°’ì€ ì‚¬ìš©í•˜ê¸° ì „ì— í•­ìƒ ì£¼ ë©”ëª¨ë¦¬ì—ì„œ ë‹¤ì‹œ ì½ëŠ”ë‹¤.
- ë°”ì´íŠ¸ì½”ë“œ ëª…ë ¹ì´ ì™„ë£Œë˜ê¸° ì „ì— ìŠ¤ë ˆë“œê°€ ì“´ ëª¨ë“  ê°’ì€ í•­ìƒ ì£¼ ë©”ëª¨ë¦¬ë¡œ í”ŒëŸ¬ì‹œëœë‹¤.

>ì´ê±¸ ì‰½ê²Œ í’€ì–´ë³´ë©´, `volatile` í‚¤ì›Œë“œëŠ” í™”ì´íŠ¸ë³´ë“œ(ë©”ì¸ ë©”ëª¨ë¦¬)ë¥¼ ê°•ì œë¡œ ì°¸ê³ í•˜ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.
>
>**ì„¤ëª…ì„ ìœ„í•œ ë¹„ìœ :**
>ì—¬ëŸ¬ ëª…ì˜ ê°œë°œìê°€ ê°™ì€ í™”ì´íŠ¸ë³´ë“œ(ë©”ì¸ ë©”ëª¨ë¦¬)ë¥¼ ê³µìœ í•œë‹¤ê³  í•´ë³´ì. ê° ê°œë°œì(A, B)ëŠ” ìê¸° ì±…ìƒ ìœ„ ë©”ëª¨ì§€(ìºì‹œ)ì—ë„ ì •ë³´ë¥¼ ì ì„ ìˆ˜ ìˆë‹¤. ë³´í†µ ê°œë°œìëŠ” í™”ì´íŠ¸ë³´ë“œë¥¼ ì•ˆ ë³´ê³  ìê¸° ë©”ëª¨ì§€ë§Œ ì°¸ê³ í•˜ë©´ì„œ ì‘ì—…í•œë‹¤. í•˜ì§€ë§Œ `volatile` ì„ ì‚¬ìš©í•˜ë©´?
>
>â†’ í•­ìƒ í™”ì´íŠ¸ë³´ë“œ(ë©”ì¸ ë©”ëª¨ë¦¬)ì—ì„œ ìµœì‹  ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ , ìˆ˜ì •í•œ ë‚´ìš©ë„ ì¦‰ì‹œ ë°˜ì˜í•´ì•¼ í•œë‹¤!


## ì½”ë“œë¡œ ì´í•´í•˜ê¸°

### `volatile`ì—†ì´ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²½ìš°

```java  
public class VolatileTest {  
  
  
    static class SharedData {  
        int flag = 0; // í™”ì´íŠ¸ë³´ë“œ(ë©”ì¸ë©”ëª¨ë¦¬)  
    }  
  
    static class Worker extends Thread {  
  
        private SharedData data;  
  
  
        Worker(SharedData data) {  
            this.data = data;  
        }  
        @Override  
        public void run() {  
            while (data.flag == 0) { // ìºì‹œëœ ê°’ë§Œ ë³´ê³  ë°˜ë³µ  
                // ì‘ì—…ì„ ê³„ì†í•¨  
            }  
      // ì—¬ê¸°ê¹Œì§€ ë„ë‹¬í•  ìˆ˜ ì—†ìŒ  
      System.out.println("flag ê°€ 1ë¡œ ë³€ê²½ë¨! ì¢…ë£Œ!");  
    }  }  
  
  public static void main(String[] args) throws InterruptedException {  
      SharedData data = new SharedData();  
      Worker worker = new Worker(data);  
  
      worker.start();  
  
      Thread.sleep(1000); // 1ì´ˆ í›„ ê°’ ë³€ê²½  
  
      data.flag = 1; // ë©”ì¸ ë©”ëª¨ë¦¬ì— ë°˜ì˜ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ!  
  
      System.out.println("flag ë¥¼ 1ë¡œ ë³€ê²½í•¨");  
  
  }  
}
```

### ğŸš¨ ì˜ˆìƒ ë¬¸ì œ
- `flag = 1`ë¡œ ì„¤ì •í–ˆì§€ë§Œ, ë‹¤ë¥¸ ìŠ¤ë ˆë“œ(Worker)ê°€ í™”ì´íŠ¸ë³´ë“œë¥¼ ì•ˆë³´ê³  ìê¸° ìºì‹œë§Œ ì°¸ê³ í•´ì„œ ê°’ì´ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìŒ
- ë”°ë¼ì„œ `while (data.flat == 0)`ì—ì„œ ë¬´í•œ ë£¨í”„ê°€ ë°œìƒ

### âœ… `volatile`ì„ ì‚¬ìš©í•œ í•´ê²° ë°©ë²•
```java
class SharedData {
	volatile int flag = 0; // í™”ì´íŠ¸ë³´ë“œ(ë©”ì¸ ë©”ëª¨ë¦¬) ê°•ì œ ì‚¬ìš©
}

class Worker extends Thread {
	private SharedData data;

	Worker(SharedData data) {
		this.data = data;
	}

	@Override
	public void run() {
		while(data.flag == 0) {
			// ë©”ì¸ ë©”ëª¨ë¦¬ì—ì„œ í•­ìƒ ìµœì‹  ê°’ì„ ì½ìŒ	
		}
		System.out.println("flag ê°€ 1ë¡œ ë³€ê²½ë¨! ì¢…ë£Œ");
	}
}

public class VolatileTest {
	public static void main(String[] args) throws InterruptedException {
		SharedData data = new SharedData();
		Worker worker = new Workder(data);
		
		worker.start();
		
		Thread.sleep(1000);
		
		// ì¦‰ì‹œ ë©”ì¸ ë©”ëª¨ë¦¬ì— ë°˜ì˜ë¨
		data.flag = 1;
		
		System.out.println("flagë¥¼ 1ë¡œ ë³€ê²½");
	}
}
```

### ğŸ‘ í•´ê²°ë¨!
- `volatile`ì„ ì‚¬ìš©í•˜ë©´ `flag`ê°€ í•­ìƒ ë©”ì¸ ë©”ëª¨ë¦¬ì—ì„œ ì½íˆê³ , ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜ë¨.
- ë”°ë¼ì„œ `while(data.flag == 0)`ì´ ê°’ì´ ë³€í•˜ëŠ” ê±¸ ë°”ë¡œ ê°ì§€í•˜ê³  ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì˜¬ ìˆ˜ ìˆìŒ.

### ğŸ“Œ ê²°ë¡ 

| í‚¤ì›Œë“œ        | ìºì‹œ ì‚¬ìš© ì—¬ë¶€         | ë©”ì¸ ë©”ëª¨ë¦¬ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ | ì–¸ì œ ìœ ìš©í•œê°€?          |
| ---------- | ---------------- | -------------- | ----------------- |
| ì¼ë°˜ ë³€ìˆ˜      | âœ… (ìºì‹œ ì‚¬ìš©)        | âŒ (ë°”ë¡œ ë°˜ì˜ ì•ˆë¨)   | ë™ê¸°í™” í•„ìš” ì—†ëŠ” ê²½ìš°      |
| `volatile` | âŒ (í•­ìƒ ë©”ì¸ ë©”ëª¨ë¦¬ ì°¸ê³ ) | âœ… (ë°”ë¡œ ë°˜ì˜ë¨)     | í”Œë˜ê·¸ ì²´í¬ ê°™ì€ ê°„ë‹¨í•œ ë™ê¸°í™” |
ì¦‰, `volatile`ì„ ì‚¬ìš©í•˜ë©´ í™”ì´íŠ¸ë³´ë“œë¥¼ ê°•ì œ ì°¸ê³ í•˜ê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì— ìµœì‹  ì •ë³´ë¥¼ ë†“ì¹˜ì§€ ì•Šê²Œ ëœë‹¤!