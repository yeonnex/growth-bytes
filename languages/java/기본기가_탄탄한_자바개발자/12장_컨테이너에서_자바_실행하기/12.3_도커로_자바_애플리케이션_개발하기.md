<!-- Date: 2025-01-28 -->
<!-- Update Date: 2025-01-28 -->
<!-- File ID: 508668a0-49c4-440c-9556-1d69962c8f93 -->
<!-- Author: Seoyeon Jang -->

## 1. 기본 이미지 선택

JVM 애플리케이션을 실행하기 위한 '적합한' 기본 이미지에 대한 유일한 답은 없다. 어떤 이미지가 적합한지 결정하기 위해서는 다음 사항을 고려해야 한다.

1. 어떤 벤더를 원하는가?
2. 컨테이너 내부에 어떤 운영체제를 원하는가?
3. 어떤 시스템 아키텍처에서 실행해야 하는가?

벤더에 대한 선택은 다음과 같은 여러 요소를 고려해야할 수도 있다.
- 지원 가용성과 계약
- 보안 업데이트 정책과 적시성
- 클라우드 배포에 대한 특별 고려사항
  - 마이크로 소프트 Build of OpenJDK는 애저를 위한 것으로, AWS에서는 아마존 Corretto를 사용하는 것이 좋다

클라우드 벤더별 빌드는 OpenJDK를 기반으로 하지만, 해당 공급업체의 클라우드에 도움이 되는 성능과 기타 개선 사항이 포함될 수 있다.

대부분의 공급업체는 자신의 컨테이너에서 여러 운영체제를 지원한다. Debian, Ubuntu, 또는 Alpine과 같은 일부 다른 리눅스 변형을 흔히 볼 수 있다. 특별한 운영체제 요구사항이 없는 경우에는 Debian/Ubuntu와 같은 더 보편적인 옵션을 선택하는 것이 패키지를 찾고 업데이트할 때의 어려움을 피하는 데 도움이 된다.

>NOTE: 알파인 리눅스는 특별한 주의가 필요하다. 매우 최근까지는 알파인에서 자바용 공식 이미지가 존재하지 않았다. 자바 공급업체에 문의해서 알파인용 이미지를 제공하는지 확인해야 한다.

궁급업체에서 직접 제공하지 않는 운영체제에서 실행해야 하는 경우에는 절망하지 말자. 이런 경우에는 JDK를 수동으로 설치하기 위해 시스템에 맞는 패키지 관리도구(예: apt, yum 등)를 사용해 JDK를 설치한 다음, 필요한 도커 이미지를 직접 만들어사용할 수 있다. 기본 이미지와 도커 빌드는 단순히 컨테이너 파일 시스템에 필요한 바이트를 얻는 것에 관한 방법일뿐이라는 점을 기억하자. 원하는 최종 결과를 얻는 방법에는 여러 가지가 있을 수 있다.

마지막으로 이미지의 시스템 아키텍처에 대해 언급하겠다. 특히 클라우드에서는 ARM 기반 칩에서 실행하는 것이 점점 더 보편화되고 있다. 이 경우 성능상의 이점이 있지만 해당 아키텍처를 위해 특별히 제작된 이미지가 필요하다는 점에 유의하자. 여러 아키텍처(x86, ARM)에서 실행해야 하는 경우, 아키텍처별로 도커 이미지를 만들어야 하는데, 다행히 도커는 이런 멀티 아키텍처 이미지를 쉽게 빌드하고 배포할 수 있는 도구를 제공한다.

## 2. 그래들로 이미지 빌드하기
11장에서 살펴본 것처럼, 모든 규모의 자바 프로젝트는 일관된 빌드 도구를 사용하면 이점을 얻을 수 있다.

# 정리


