<!-- Date: 24. 12. 25. } -->
<!-- File ID: 4079c30c-50a7-4517-b678-655840020740 -->
<!-- Author: Seoyeon Jang -->

# 개요

**자바**라는 용어는 사람이 읽을 수 있는 프로그래밍 언어 또는 훨씬 더 광범위한
'자바 플랫폼'을 의미한다.

사람에 따라 때로는 언어와 플랫폼을 구성하는 요소에 대해 약간씩 다른 정의를 내리는 경우가 있다.
이로 인해 둘 사이의 차이점과 어떤 것이 애플리케이션 코드가 사용하는 다양한 프로그래밍 기능을 제공하는지에 대한 명확성이 부족해 혼란이 발생할 수 있다.

이제 그 구분을 명확히 해보자.

- 자바 언어:
    - 자바 언어는 정적 타입의 객체지향 언어다. 자바 언어로 작성된 소스코드의 한가지 분명한 점은
      사람이 읽을 수 있다는 것이다.
- 자바 플랫폼:
    - 플랫폼은 소프트웨어가 실행될 수 있는 환경을 제공하는 것으로, 자바 플랫폼에서는 (인간이 읽을 수 없는) 클래스 파일 형태로 제공된 코드를
      링크하고 실행하는 JVM이다. 자바 언어 소스 파일을 직접 해석하지 않고 먼저 클래스 파일로 변환해야 한다.

소프트웨어 시스템으로서 자바의 성공 원인 중 하나는 표준화라는 점이다.
이는 자바가 어떻게 작동해야 하는지 설명하는 **명세**가 있다는 것을 의미한다.
표준화는 서로 다른 공급업체가 이론상으로는 모두 같은 방식으로 작동하는 구현을 만들 수 있게 해준다.
명세는 서로 다른 구현이 동일한 작업을 처리할 때 얼마나 잘 수행할지에 대한 보장은 제공하지 않지만, 결과의 정확성에 대한
보증은 제공한다.

자바 시스템에는 여러 가지 개별 사양이 적용되는데, 그 중에서 가장 중요한 것은 JLS(자바 언어 사양, Java Language Specification)와 JVM 사양(VMSpec)이다.
최신 자바에서는 이러한 분리를 매우 중요하게 생각하며, 실제로 VMSpec 은 더 이상 JLS를 직접 참조하지 않는다.

> 오늘날 JVM 은 프로그램을 실행하는 데 있어 범용적이며 언어에 구애받지 않는다.
> 이것이 사양을 분리한 이유 중 하나다.


그렇다면, 이런 의문이 든다.

'이들 사이의 연결고리는 무엇인가?'
'이 둘이 분리돼 있다면 어떻게 함께 모여 자바 시스템을 구성할 수 있을까?'

언어와 플랫폼 간의 연결고리는 클래스 파일 형식(.class)에 대한 공유된 정의다.
클래스 파일에 대한 진지한 연구는 그만한 보상을 준다.

```mermaid
flowchart LR
    A[.java 파일] -->|javac| B[.class 파일]
    B -->|클래스 로더| C[변환된 .class 파일]

    subgraph JVM
        direction TB
        C -->|인터프리터| D[실행 코드]
        D -->|JIT 컴파일러| E[기계어\n101011100001]
    end

    classDef dark fill: #3E4C6C, stroke: #000, color: #fff;
    class C dark
```

위 그릠에서 볼 수 있듯이 자바 코드는 사람이 읽을 수 있는 자바 소스로 시작해서 javac 에 의해
.class 파일로 컴파일된 후 JVM에 로드된다. 로드 과정에서 클래스를 조작하고 변경하는 것이 일반적인데,
가장 널리 사용되는 많은 자바 프레임워크가 클래스를 로드할 때 클래스를 변환해서 **인스트루먼테이션**(instrumentation)이나
자바 **모듈 식별**(alternative lookup)과 같은 동적 동작을 주입한다.

자바는 컴파일 언어인가? 아니면 인터프리트 언어인가? 자바에 대한 표준적인 그림은 JVM에서 실행되기 전에 .class 로 컴파일되는 언어다.
JVM은 이 바이트코드를 JIT컴파일를 사용해 실제 CPU가 이해하는 기계어로 변환한다.

JVM 바이트코드는 사람이 읽을 수 있는 소스코드와 기계어 사이의 중간단계에 가깝다. 이는 자바 소스를 바이트코드로 변환하는 과정이
C++나 Go 프로그래머가 이해하는 컴파일과 다르다는 것을 의미한다.
그리고 javac 는 gcc와 같은 컴파일러가 아니라 자바 소스코드를 위한 클래스 파일 생성기에 불과하다.
자바 생태계에서 실제 컴파일러는 JIT 컴파일러다.

어떤 사람은 자바 시스템을 '동적으로 컴파일되는' 시스템이라고 설명한다. 이는 중요한 컴파일이 빌드 프로세스 중 클래스 파일 생성이 아니라 런타임 시에 발생하는 JIT
컴파일임을 강조한다.

> 소스 코드 컴파일러인 javac 의 존재로 인해 많은 개발자는 자바를 정적이고 컴파일된 언어로 생각하지만,
> 자바 환경은 런타임에서 매우 동적으로 동작한다. 그저 표면 아래 살짝 숨겨져 있을 뿐.

따라서 '자바는 컴파일 언어인가? 아니면 인터프리터 언어인가?'에 대한 정답은 '둘 다'이다.
이제 언어와 플랫폼의 구분이 더욱 명확해졌다.